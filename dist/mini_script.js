/* eslint-disable no-undef */
// eslint-disable-next-line no-unused-vars
const pokemonRepository=function(){const e=[],t='https://pokeapi.co/api/v2/pokemon/?offset=20&limit=100';function n(t){'object'==typeof t&&'name'in t&&'detailsUrl'in t?e.push(t):console.log('pokemon is not correct')}function o(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.weight=t.weight}).catch(function(e){console.error(e)})}function i(e){o(e).then(function(){let t=[];e.types.forEach(e=>{t.push(e.type.name)}),function(e,t,n,o,i){let c=document.querySelector('.modal-body'),l=document.querySelector('#exampleModalLabel');$('#exampleModalLabel').empty(),$('.modal-body').empty();let a=document.createElement('h1');a.innerText=e;let r=document.createElement('img');r.classList.add('pokemon_img'),r.src=t;let s=document.createElement('p');s.innerText=n;let d=document.createElement('p');d.innerText=o;let u=document.createElement('p');u.innerText=i,l.append(a),c.append(r),c.append(s),c.append(d),c.append(u)}(e.name,e.imageUrl,' height: '+e.height,'weight: '+e.weight,' types: '+t.join(','))})}return{add:n,getAll:function(t){return e},addListItem:function(e){const t=document.querySelector('.pokemon-list'),n=document.createElement('li');n.classList.add('group-list-item');const o=document.createElement('button');o.innerText=e.name,o.classList.add('button-class','btn','btn-outline-info','col-3','d-grid'),$(document).ready(function(){$(o).click(function(){i(e),$('#exampleModal').modal()})}),n.appendChild(o),t.appendChild(n)},showDetails:i,loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){const t={name:e.name,detailsUrl:e.url};n(t),console.log(t)})}).catch(function(e){console.error(e)})},loadDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});